{%extends 'base.html' %}


{% block body %} 
<div class="container mb-3 py-4">
  <form method="post" action="/users" enctype="multipart/form-data" id="registerForm"> 
  {% csrf_token %}
     <div class="mb-3">
       <label for="name" class="form-label">Name:</label>
       <input type="text" class="form-control" id="name" name="name" placeholder="Enter your Name" required>
     </div>

     <div class="mb-3">
       <label for="email" class="form-label">Email:</label>
       <input type="email" class="form-control" name="email" id="email" placeholder="Enter your Email" required>
     </div>
     
     <div class="mb-3">
       <label for="password" class="form-label">Password:</label>
       <input type="password" id="password" name="password" class="form-control" placeholder="Enter your Password" required>
     </div>

     <div class="mb-3">
       <label for="confirm_password" class="form-label">Confirm Password:</label>
       <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="Re-enter your Password" required>
       <small id="passwordError" style="color: red;"></small> <!-- Error message -->
     </div>

     <div class="mb-3">
         <label for="phone" class="form-label">Phone No:</label>
         <input type="tel" class="form-control" name="phone" id="phone" placeholder="Enter your Phone Number" required>
      </div>
  
      <button type="submit" class="btn btn-primary">Register</button>
  </form>
</div>

<script>
document.getElementById("registerForm").addEventListener("submit", function (event) {
  let password = document.getElementById("password").value;
  let confirmPassword = document.getElementById("confirm_password").value;
  let errorDiv = document.getElementById("passwordError");

  if (password !== confirmPassword) {
      event.preventDefault(); // Stop form submission
      errorDiv.innerText = "Passwords do not match!";
  } else {
      errorDiv.innerText = ""; // Clear error if passwords match
  }
});
</script>

{% endblock body %}